<template name="welcome">
    {{#if intro}}
        <div class="welcome-intro-container my-5">
            <div class="embed-responsive embed-responsive-16by9">
                <iframe class="embed-responsive-item" src="{{leaconfig "videos" "welcome"}}" allowfullscreen></iframe>
            </div>

            <div class="card my-5">
                <div class="card-body d-flex">
                    {{> soundbutton tts="pages.welcome.introduction" outline=true}}
                    {{> text src=(i18n "pages.welcome.introduction") class="ml-3"}}
                </div>
                <div class="card-body mt-5 row {{#if (or login newCode)}}d-unavailable{{/if}}">
                    <div class="col">
                        {{> actionButton class="w-100" lg=true block=true outline=true tts="common.yes" label=(i18n "common.yes") btnClass="lea-welcome-yes" }}
                    </div>
                    <div class="col">
                        {{> actionButton class="w-100" lg=true block=true outline=true tts="common.no" label=(i18n "common.no") btnClass="lea-welcome-no" }}
                    </div>
                </div>
            </div>
        </div>
    {{/if}}


    {{#if (or login newCode)}}
        <div class="card">
            {{#if login}}
                <div class="card-body d-flex">
                    {{> soundbutton tts="pages.welcome.enterCode" lg=true outline=true}}
                    {{> text src=(i18n "pages.welcome.enterCode") class="ml-3"}}
                </div>
            {{/if}}

            {{#if newCode}}
                <div class="card-body d-flex">
                    {{> soundbutton tts="pages.welcome.newCode" lg=true outline=true}}
                    {{> text src=(i18n "pages.welcome.newCode") class="ml-3"}}
                </div>
                <div class="card-body text-center">
                    <h1 class="text-center">
                        {{#with randomCode}}
                            {{> text src=this}}
                        {{/with}}
                    </h1>
                </div>
            {{/if}}

            <div class="card-body welcome-login-container my-2">
                <div class="input-group input-group-lg">
                    <input type="text" data-index="0" maxlength="1"
                           class="login-field text-uppercase form-control text-center m-2" autofocus/>
                    <input type="text" data-index="1" maxlength="1"
                           class="login-field text-uppercase form-control text-center m-2"/>
                    <input type="text" data-index="2" maxlength="1"
                           class="login-field text-uppercase form-control text-center m-2"/>
                    <input type="text" data-index="3" maxlength="1"
                           class="login-field text-uppercase form-control text-center m-2"/>
                    <input type="text" data-index="4" maxlength="1"
                           class="login-field text-uppercase form-control text-center m-2"/>
                </div>

                {{> actionButton class="w-100 mt-3" lg=true block=true type="primary"  tts="pages.welcome.login"  label=(i18n "pages.welcome.login") btnClass="lea-welcome-login" }}
            </div>

            {{#if loginFail}}
                <div class="card-body">
                    <div class="alert alert-info">
                        code invalid
                    </div>
                </div>
            {{/if}}
        </div>
    {{/if}}
</template>