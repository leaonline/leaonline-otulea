<template name="complete">
	<div class="container lea-complete-container">

		{{#with sessionDoc}}
			{{>navbar sessionDoc=this showProgress=false root=".lea-complete-container" }}
		{{/with}}

		{{#if showResults}}
			<div class="card my-4">
				<div class="card-body">
					{{> textGroup tts="pages.complete.thankYou" }}
				</div>
				{{#with evaluationResults}}
					{{#with this.fulfilled}}
						<div class="card-body">
							{{> textGroup tts="competencies.fulfilled" label=(i18n "competencies.fulfilled")
									groupClass="alert alert-info w-100"}}
							<div class="card-body">
								{{#each competency in this}}
									{{> textGroup tts=competency.label label=(i18n competency.label)}}
								{{/each}}
							</div>
						</div>
					{{/with}}

					{{#with this.toImprove}}
						<div class="card-body">
							{{> textGroup tts="competencies.toImprove" label=(i18n "competencies.toImprove")
									groupClass="alert alert-info w-100"}}
							<div class="card-body">
								{{#each competency in this}}
									{{> textGroup tts=competency.label label=(i18n competency.label)}}
								{{/each}}
							</div>
						</div>
					{{/with}}

					<div class="card-body">
						{{> actionButton tts="common.forward" label=(i18n "common.forward") block=true
								btnClass="lea-showresults-forward-button" class="ml-auto"}}
					</div>
				{{else}}
					<div class="card-body d-flex">
						<h1 class="text-center">
							<i class="fa fas fa-fw fa-spinner fa-pulse"></i>
						</h1>
					</div>
				{{/with}}
			</div>
		{{/if}}


		{{#if showPrint}}
			<div class="card lea-complete-showprint-container">
				<div class="card-body">
					{{> textGroup tts="pages.complete.youCanPrint" }}
				</div>
				<div class="card-body">
					{{> actionButton tts="pages.complete.printResults" label=(i18n "pages.complete.printResults") class="my-4"
							outline=true block=true icon="print"}}

					{{> actionButton tts="pages.complete.printResultsTeacher" class="my-4"
							outline=true  block=true label=(i18n "pages.complete.printResultsTeacher") icon="print"}}
				</div>
				<div class="card-body d-flex justify-content-between">
					{{> actionButton tts="common.back" label=(i18n "common.back")
							btnClass="lea-showprint-back-button" outline=true}}

					{{> actionButton tts="common.forward" label=(i18n "common.forward")
							btnClass="lea-showprint-forward-button"}}
				</div>
			</div>
		{{/if}}

		{{#if showDecision}}
			<div class="card lea-complete-showprint-container">
				<div class="card-body">
					{{> textGroup tts="pages.complete.continueOrEnd" }}
				</div>
				<div class="card-body d-flex justify-content-between">
					{{> actionButton tts="common.back" label=(i18n "common.back")
							btnClass="lea-showdecision-back-button" outline=true}}
					{{> actionButton tts="common.end" label=(i18n "common.end")
							btnClass="lea-end-button" outline=true}}
					{{> actionButton tts="common.continue" label=(i18n "common.continue")
							btnClass="lea-continue-button"}}
				</div>
			</div>
		{{/if}}
	</div>
</template>