<template name="overview">
	<div class="lea-overview-container">
		{{#container class="overview-dimensions-container my-3"}}
			<div class="card {{#if dimensionSelected}}d-unavailable{{/if}}">
				<div class="card-body">
					{{> textGroup tts="pages.overview.chooseDimension"}}
				</div>
				<div class="card-body mt-3">
					<div class="row">
						{{#each dimension in dimensions}}
							<div class="col col-xs-12 col-md-6 col-lg-3 my-1 {{#if dimensionDisabled dimension.name}}d-unavailable{{/if}}">
								{{> actionButton class="d-block overview-button" block=true icon=dimension.icon type=dimension.type
										iconClass="d-block ml-auto mr-auto my-2 fa-2x"
										outline=true data-dimension=dimension.name active=(isSelectedDimension dimension.name)
										tts=dimension.label label=(i18n dimension.label) btnClass="lea-dimension-button font-weight-bold" }}
							</div>
                            {{else}}
                            {{> loading}}
						{{/each}}
					</div>
				</div>
			</div>
		{{/container}}

		{{#with dimensionSelected}}
			{{#container class="overview-level-container my-3"}}
				<div class="card">
					<div class="card-body">
						{{#textGroup tts="pages.overview.chooseLevel"}}
							{{> actionButton outline=true tts="common.back" icon="arrow-up" data-target=".overview-level-container"
									btnClass="lea-back-button" data-type="dimension" }}
						{{/textGroup}}
					</div>
					<div class="card-body mt-3">
						<div class="row">
							{{#each level in levels}}
								<div class="col col-xs-12 col-md-6 col-lg-4 my-1 {{#if levelDisabled dimension.name level.name}}d-unavailable{{/if}}">
									{{> actionButton class="w-100 overview-button" block=true type=this.type outline=true data-level=level.name
											active=(isSelectedLevel level.name)
											tts=level.label label=(i18n level.label) btnClass="lea-level-button p-5 font-weight-bold" }}
								</div>
							{{/each}}
						</div>
					</div>
				</div>
			{{/container}}

			{{#if levelSelected}}
				{{#container class="overview-session-container my-3"}}
					<div class="card">
						<div class="card-body mt-3 overview-level-description">
							{{#textGroup tts=dimensionLevel class="w-100"}}
								{{> actionButton outline=true tts="common.back" data-target=".overview-session-container"
										icon="arrow-up" btnClass="lea-back-button" data-type="dimension" }}
							{{/textGroup}}
						</div>
					</div>

					<div class="mt-3 overview-level-decision">
						{{#if sessionLoadComplete}}
							{{#if sessionAlreadyRunning}}
                                <div class="alert alert-{{this.type}}">
                                    {{> textGroup tts="pages.overview.sessionFound"}}
                                </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col">
                                        {{> actionButton class="lea-overview-continue-container w-100 mt-3"
                                                data-restart=""
                                                lg=true block=true type=this.type  outline=true  tts="common.continue"
                                                label=(i18n "common.continue") btnClass="lea-overview-confirm-button" }}
                                    </div>
                                    <div class="col">
                                        {{> actionButton class="lea-overview-confirm-container w-100 mt-3"
                                                data-restart="true"
                                                lg=true block=true type=this.type  outline=true tts="common.restart"
                                                label=(i18n "common.restart") btnClass="lea-overview-confirm-button" }}
                                    </div>
                                </div>
                            </div>
							{{else}}
								{{> actionButton class="lea-overview-confirm-container w-100 mt-3" data-restart="true"
										lg=true block=true type=this.type  tts="pages.overview.confirm" outline=true
										label=(i18n "pages.overview.confirm") btnClass="lea-overview-confirm-button" }}
							{{/if}}
						{{else}}
							<i class="fa fas fa-fw fa-spinner fa-pulse"></i>
						{{/if}}
					</div>
				{{/container}}
			{{/if}}
		{{/with}}
	</div>
</template>